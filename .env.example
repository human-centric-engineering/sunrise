# Environment Configuration Template
#
# This file serves as a template for environment variables.
# Copy this file to .env.local and fill in your actual values.
#
# IMPORTANT: Never commit .env.local or .env files - they contain secrets!
#
# For detailed documentation, see:
# - .context/environment/overview.md - Setup guide and patterns
# - .context/environment/reference.md - Complete variable reference
#
# Quick setup:
#   1. cp .env.example .env.local
#   2. Update values below with your configuration
#   3. Generate secrets: openssl rand -base64 32
#   4. Start dev server: npm run dev

# Database (Required)
# PostgreSQL connection string for Prisma ORM
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
# Docker: Use service name 'db' instead of 'localhost'
DATABASE_URL="postgresql://user:password@localhost:5432/sunrise"

# Better Auth (Required)
# Application base URL - must match where app is accessed
BETTER_AUTH_URL="http://localhost:3000"

# Secret for JWT signing - must be 32+ characters
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET="generate-with-openssl-rand-base64-32"

# OAuth - Google (Optional)
# Get credentials from https://console.cloud.google.com/
# Both values required to enable Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Email - Resend (Optional for Phase 1, Required for Phase 3)
# Get API key from https://resend.com/
RESEND_API_KEY="your-resend-api-key"
EMAIL_FROM="noreply@yourdomain.com"

# Email verification (optional)
# If not set, defaults to true in production and false in development
# Set explicitly to override environment-based behavior
# REQUIRE_EMAIL_VERIFICATION=true

# App Configuration (Required)
# Environment: development | production | test
NODE_ENV="development"

# Public app URL - embedded at build time, accessible in client code
# Must match BETTER_AUTH_URL for consistency
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Logging Configuration (Optional)
# Log level: debug | info | warn | error
# Defaults: "debug" in development, "info" in production
# - debug: All logs including verbose debugging info
# - info: General application flow and important events
# - warn: Warning messages for degraded states
# - error: Only errors that need attention
# LOG_LEVEL="info"

# ============================================================
# DOCKER CONFIGURATION
# ============================================================
# These additional variables are used by Docker Compose for
# production deployments. They are optional for local development.

# Docker Database Configuration (Production)
# Used by docker-compose.prod.yml to create PostgreSQL container
# Set these when deploying with Docker in production
# DB_USER="postgres"
# DB_PASSWORD="your-secure-password-here"
# DB_NAME="sunrise"

# Important: Database Host Names
# - Local development (npm run dev): localhost
#   DATABASE_URL="postgresql://user:password@localhost:5432/sunrise"
#
# - Docker development (docker-compose up): db (service name)
#   DATABASE_URL="postgresql://postgres:postgres@db:5432/sunrise"
#
# - Docker production: db (service name) or external host
#   DATABASE_URL="postgresql://user:password@db:5432/sunrise"

# Docker Usage Examples:
#
# Development:
#   docker-compose up                    # Start dev environment
#   docker-compose down                  # Stop dev environment
#
# Production:
#   cp .env.example .env                 # Create production .env
#   # Edit .env with production values
#   docker-compose -f docker-compose.prod.yml up -d --build
#   docker-compose -f docker-compose.prod.yml exec web npx prisma migrate deploy
